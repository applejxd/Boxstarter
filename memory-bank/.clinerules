# Windows Setup プロジェクト学習ノート

## プロジェクト構造パターン

1. **ディレクトリ構造の意味**
   - `bin/`: 日常的に使用するユーティリティバッチファイル
   - `config/`: システム全体の設定ファイル
   - `scripts/`: 自動化スクリプト（インストール、ネットワーク設定など）
   - `tools/`: 特定のツールの設定ファイル

2. **ファイル命名規則**
   - PowerShellスクリプト: `.ps1`拡張子
   - バッチファイル: `.bat`拡張子
   - 設定ファイル: 元のアプリケーションの命名規則に従う

3. **モジュール分離**
   - 機能ごとに明確に分離されたディレクトリ構造
   - 関連する設定やスクリプトは同じディレクトリにグループ化

## 重要な実装パス

1. **環境セットアップの流れ**
   - Winget/Scoopのインストール
   - 基本ツールのインストール
   - 開発環境のセットアップ
   - 設定ファイルの配置
   - キーボード設定の適用

2. **設定ファイルの配置**
   - `deploy.ps1`を使用して設定ファイルを適切な場所に配置
   - 必要に応じてシンボリックリンクを作成

3. **キーボード設定の適用**
   - Keyhacのインストールと設定
   - 拡張機能の有効化
   - 個人設定の適用

## ユーザー設定パターン

1. **PowerShellプロファイル**
   - `config/profile.ps1`に定義されたカスタム設定
   - エイリアスやユーティリティ関数の定義
   - 環境変数の設定

2. **Keyhac設定**
   - 基本設定: `tools/Keyhac/config.py`
   - 個人設定: `tools/Keyhac/config_personal.py`
   - 拡張機能: `tools/Keyhac/extension/`ディレクトリ内

3. **Keypirinha設定**
   - ユーザー設定: `tools/Keypirinha/User/`ディレクトリ内
   - パッケージ設定: `tools/Keypirinha/Packages/`ディレクトリ内

## 既知の課題と対処法

1. **PowerShell実行ポリシー**
   - 問題: スクリプト実行が制限される
   - 対処: `Set-ExecutionPolicy RemoteSigned -Scope CurrentUser`を実行

2. **管理者権限の要件**
   - 問題: 一部のスクリプトが管理者権限を必要とする
   - 対処: 管理者として実行するか、必要な権限を持つユーザーで実行

3. **WSL2のパフォーマンス**
   - 問題: ファイルシステム間のアクセスが遅い
   - 対処: `.wslconfig`ファイルでメモリやプロセッサの割り当てを最適化

4. **キーボード設定の競合**
   - 問題: 一部のアプリケーションでキーバインドが競合
   - 対処: アプリケーション固有の例外設定を追加

## プロジェクト進化の履歴

1. **初期構造の確立**
   - 基本的なディレクトリ構造の設計
   - 主要コンポーネントの分離

2. **インストールスクリプトの追加**
   - 各種ツールのインストールスクリプトの追加
   - パッケージマネージャーの活用

3. **設定ファイルの標準化**
   - 各種ツールの設定ファイルの標準化
   - 設定ファイルの一元管理

4. **キーボード設定の最適化**
   - Emacs風キーバインドの実装
   - アプリケーション固有のキーバインドの追加

5. **WSL2連携の強化**
   - WSL2の設定最適化
   - ポート転送の自動化

6. **Memory Bank構造の確立**
   - プロジェクトの文書化
   - 知識管理の仕組みの導入

## ツール使用パターン

1. **PowerShell**
   - 主要な自動化スクリプトの実装
   - システム設定の変更
   - パッケージのインストール

2. **バッチファイル**
   - 日常的なタスクの自動化
   - シンプルなユーティリティの実装

3. **Keyhac**
   - キーボードのカスタマイズ
   - Emacs風キーバインドの実装
   - アプリケーション固有の設定

4. **Keypirinha**
   - アプリケーションの起動
   - コマンドの実行
   - ファイルの検索

5. **Everything**
   - 高速ファイル検索
   - ファイルシステム全体の検索
